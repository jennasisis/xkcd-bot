var gulp = require('gulp');
var coffee = require('gulp-coffee');
var browserify = require('gulp-browserify');

gulp.task("default", ["coffee"], function () {
    // other tasks do the actual work
});

gulp.task("coffee", [], function () {
    gulp.src("source/main.coffee")
        .pipe(coffee())
        .pipe(browserify({
            transform: ["coffeeify"],
            extensions: ['.coffee']
        }))
        .pipe(gulp.dest("compiled"));
});

gulp.task("watch", ["default"], function () {
    gulp.watch("source/*.coffee", ["coffee"])
});
